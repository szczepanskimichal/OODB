@baseUrl = http://localhost:5150
@studentId1 = 
@studentId2 = 

### DEBUG
GET {{baseUrl}}/debug/db
Accept: application/json


### 1) student_registrert (OK)
POST {{baseUrl}}/events
Content-Type: application/json
Accept: application/json

{
  "eventId": "20000000-0000-0000-0000-000000000001",
  "occurredUtc": "2025-02-01T09:00:00Z",
  "recordedUtc": "2025-02-01T09:00:01Z",
  "type": "student_registrert",
  "name": "Ola Hansen",
  "birthdate": "2002-05-17",
  "city": "Skien"
}


### 2) kurs-event (OK) -> wklej studentId z #1
POST {{baseUrl}}/events
Content-Type: application/json
Accept: application/json

{
  "eventId": "20000000-0000-0000-0000-000000000002",
  "occurredUtc": "2025-02-02T10:00:00Z",
  "recordedUtc": "2025-02-02T10:00:01Z",
  "type": "søkt",
  "studentId": "{{studentId1}}",
  "course": "StartIT",
  "year": 2025,
  "semester": 1
}


### 3) kolejne statusy (OK)
POST {{baseUrl}}/events
Content-Type: application/json
Accept: application/json

{
  "eventId": "20000000-0000-0000-0000-000000000003",
  "occurredUtc": "2025-02-03T10:00:00Z",
  "recordedUtc": "2025-02-03T10:00:01Z",
  "type": "godkjent",
  "studentId": "{{studentId1}}",
  "course": "StartIT",
  "year": 2025,
  "semester": 1
}


### 4) duplikat (IDEMPOTENS)
POST {{baseUrl}}/events
Content-Type: application/json
Accept: application/json

{
  "eventId": "20000000-0000-0000-0000-000000000003",
  "occurredUtc": "2025-02-03T10:00:00Z",
  "recordedUtc": "2025-02-03T10:00:01Z",
  "type": "godkjent",
  "studentId": "{{studentId1}}",
  "course": "StartIT",
  "year": 2025,
  "semester": 1
}


### 5) midweek (avvist + reason)
POST {{baseUrl}}/events
Content-Type: application/json
Accept: application/json

{
  "eventId": "20000000-0000-0000-0000-000000000004",
  "occurredUtc": "2025-02-04T10:00:00Z",
  "recordedUtc": "2025-02-04T10:00:01Z",
  "type": "avvist",
  "studentId": "{{studentId1}}",
  "course": "StartIT",
  "year": 2025,
  "semester": 1,
  "reason": "ikke møtt opp"
}


### GET raw events (debug)
GET {{baseUrl}}/events
Accept: application/json


### ✅ Info o bazie
GET {{baseUrl}}/debug/db
Accept: application/json

### ========== WIĘCEJ TESTÓW - RÓŻNE SCENARIUSZE ==========

### 6) student 2 rejestracja
POST {{baseUrl}}/events
Content-Type: application/json
Accept: application/json

{
  "eventId": "20000000-0000-0000-0000-000000000005",
  "occurredUtc": "2025-02-01T10:00:00Z",
  "recordedUtc": "2025-02-01T10:00:01Z",
  "type": "student_registrert",
  "name": "Johan Eriksen",
  "birthdate": "2001-03-21",
  "city": "Oslo"
}


### 7) student 2 aplikuje do innego kursu
POST {{baseUrl}}/events
Content-Type: application/json
Accept: application/json

{
  "eventId": "20000000-0000-0000-0000-000000000006",
  "occurredUtc": "2025-02-02T11:00:00Z",
  "recordedUtc": "2025-02-02T11:00:01Z",
  "type": "søkt",
  "studentId": "{{studentId2}}",
  "course": "Frontend",
  "year": 2025,
  "semester": 1
}


### 8) student 2 accepted Frontend
POST {{baseUrl}}/events
Content-Type: application/json
Accept: application/json

{
  "eventId": "20000000-0000-0000-0000-000000000007",
  "occurredUtc": "2025-02-03T11:00:00Z",
  "recordedUtc": "2025-02-03T11:00:01Z",
  "type": "godkjent",
  "studentId": "{{studentId2}}",
  "course": "Frontend",
  "year": 2025,
  "semester": 1
}


### 9) student 2 started Frontend
POST {{baseUrl}}/events
Content-Type: application/json
Accept: application/json

{
  "eventId": "20000000-0000-0000-0000-000000000008",
  "occurredUtc": "2025-02-10T09:00:00Z",
  "recordedUtc": "2025-02-10T09:00:01Z",
  "type": "startet",
  "studentId": "{{studentId2}}",
  "course": "Frontend",
  "year": 2025,
  "semester": 1
}


### 10) student 2 FINISHED Frontend (fullført!)
POST {{baseUrl}}/events
Content-Type: application/json
Accept: application/json

{
  "eventId": "20000000-0000-0000-0000-000000000009",
  "occurredUtc": "2025-12-15T14:00:00Z",
  "recordedUtc": "2025-12-15T14:00:01Z",
  "type": "fullført",
  "studentId": "{{studentId2}}",
  "course": "Frontend",
  "year": 2025,
  "semester": 1
}


### 11) student 1 também finished (fullført!)
POST {{baseUrl}}/events
Content-Type: application/json
Accept: application/json

{
  "eventId": "20000000-0000-0000-0000-000000000010",
  "occurredUtc": "2025-12-20T15:00:00Z",
  "recordedUtc": "2025-12-20T15:00:01Z",
  "type": "fullført",
  "studentId": "{{studentId1}}",
  "course": "StartIT",
  "year": 2025,
  "semester": 1
}


### 12) inny rok: student 1 w 2026
POST {{baseUrl}}/events
Content-Type: application/json
Accept: application/json

{
  "eventId": "20000000-0000-0000-0000-000000000011",
  "occurredUtc": "2026-01-05T10:00:00Z",
  "recordedUtc": "2026-01-05T10:00:01Z",
  "type": "søkt",
  "studentId": "{{studentId1}}",
  "course": "Backend",
  "year": 2026,
  "semester": 1
}


### 13) student 1 finished Backend 2026
POST {{baseUrl}}/events
Content-Type: application/json
Accept: application/json

{
  "eventId": "20000000-0000-0000-0000-000000000012",
  "occurredUtc": "2026-06-20T16:00:00Z",
  "recordedUtc": "2026-06-20T16:00:01Z",
  "type": "fullført",
  "studentId": "{{studentId1}}",
  "course": "Backend",
  "year": 2026,
  "semester": 1
}


### ========== SPRAWDZANIE WYNIKÓW ==========

### ✅ Sprawdź wszystkie eventy
GET {{baseUrl}}/events
Accept: application/json


### ✅ Sprawdź status wszystkich studentów
GET {{baseUrl}}/status
Accept: application/json


### ✅ Sprawdź stats PER ROK
GET {{baseUrl}}/stats
Accept: application/json


### ✅ GŁÓWNE PYTANIE: Ile studentów ukończyło? (razem ze wszystkie lata)
GET {{baseUrl}}/stats/total
Accept: application/json


### ✅ Info o bazie
GET {{baseUrl}}/debug/db
Accept: application/json


### GET stats
GET {{baseUrl}}/stats
Accept: application/json


### Batch rebuild (reparer derived state)
POST {{baseUrl}}/batch/rebuild
Accept: application/json
